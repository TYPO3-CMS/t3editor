!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function r(e,r){var o=Number(r);return/^[-+]/.test(r)?e.getCursor().line+o:o-1}e.commands.jumpToLine=function(e){var o,s,i,t,n,l,u=e.getCursor();o=e,s=(l=e).phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+l.phrase("(Use line:column or scroll% syntax)")+"</span>",i=e.phrase("Jump to line:"),t=u.line+1+":"+u.ch,n=function(o){var s;if(o)if(s=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(o))e.setCursor(r(e,s[1]),Number(s[2]));else if(s=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(o)){var i=Math.round(e.lineCount()*Number(s[1])/100);/^[-+]/.test(s[1])&&(i=u.line+i+1),e.setCursor(i-1,u.ch)}else(s=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(o))&&e.setCursor(r(e,s[1]),u.ch)},o.openDialog?o.openDialog(s,n,{value:t,selectValueOnOpen:!0}):n(prompt(i,t))},e.keyMap.default["Alt-G"]="jumpToLine"});