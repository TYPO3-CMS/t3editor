'use strict';(function(c){"object"==typeof exports&&"object"==typeof module?c(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],c):c(CodeMirror)})(function(c){function g(b,a){if(b.sol()){a.inSeparator=!1;if(a.inHeader&&b.match(h))return null;a.inHeader=!1;a.header=null;if(b.match(k))return a.inHeaders=!0,a.inSeparator=!0,"atom";var d,c=!1;if((d=b.match(l))||(c=!0,d=b.match(m)))return a.inHeaders=!0,a.inHeader=!0,a.emailPermitted=c,a.header=d[1],
"atom";if(a.inHeaders&&(d=b.match(n)))return a.inHeader=!0,a.emailPermitted=!0,a.header=d[1],"atom";a.inHeaders=!1;b.skipToEnd();return null}if(a.inSeparator){if(b.match(p))return"link";if(b.match(q))return"atom";b.skipToEnd();return"atom"}if(a.inHeader){d="Subject"===a.header?"header":"string";if(a.emailPermitted){if(b.match(r))return d+" link";if(b.match(t))return d}b.skipToEnd();return d}b.skipToEnd();return null}var e="From Sender Reply-To To Cc Bcc Message-ID In-Reply-To References Resent-From Resent-Sender Resent-To Resent-Cc Resent-Bcc Resent-Message-ID Return-Path Received".split(" "),
f=["Date","Subject","Comments","Keywords","Resent-Date"];c.registerHelper("hintWords","mbox",e.concat(f));var h=/^[ \t]/,k=/^From /,m=new RegExp("^("+e.join("|")+"): "),l=new RegExp("^("+f.join("|")+"): "),n=/^[^:]+:/,p=/^[^ ]+@[^ ]+/,q=/^.*?(?=[^ ]+?@[^ ]+)/,r=/^<.*?>/,t=/^.*?(?=<.*>)/;c.defineMode("mbox",function(){return{startState:function(){return{inSeparator:!1,inHeader:!1,emailPermitted:!1,header:null,inHeaders:!1}},token:g,blankLine:function(b){b.inHeaders=b.inSeparator=b.inHeader=!1}}});
c.defineMIME("application/mbox","mbox")});
